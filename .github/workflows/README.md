# GitHub Actions Workflows

Этот каталог содержит workflows для автоматической сборки портативных версий FeedChecker.

## Доступные Workflows

### 1. `build-macos-portable.yml`
Собирает портативную версию для macOS.

**Триггеры:**
- Ручной запуск (`workflow_dispatch`)
- Push тега `v*` (например, `v1.0.0`)
- Публикация релиза

**Результат:**
- Портативная версия в папке `portable/`
- ZIP архив: `FeedChecker-macOS-portable-v{version}.zip`
- Автоматическое создание релиза (если запущено через тег)

### 2. `build-windows-portable.yml`
Собирает портативную версию для Windows.

**Триггеры:** (те же, что и для macOS)

**Результат:**
- Портативная версия в папке `portable/`
- ZIP архив: `FeedChecker-Windows-portable-v{version}.zip`
- Автоматическое создание релиза (если запущено через тег)

### 3. `build-all-platforms.yml`
Собирает портативные версии для всех платформ одновременно.

**Триггеры:** (те же)

**Результат:**
- Портативные версии для Windows и macOS
- ZIP архивы для обеих платформ
- Единый релиз с обоими артефактами

## Как использовать

### Ручной запуск

1. Перейдите в раздел **Actions** в вашем GitHub репозитории
2. Выберите нужный workflow
3. Нажмите **Run workflow**
4. (Опционально) Укажите версию
5. Нажмите **Run workflow**

### Автоматический запуск через тег

```bash
# Создайте тег
git tag v1.0.0

# Запушьте тег
git push origin v1.0.0
```

Workflow автоматически запустится и создаст релиз.

### Создание релиза вручную

1. Создайте новый релиз в GitHub
2. Укажите тег (например, `v1.0.0`)
3. Workflow автоматически соберет версии и прикрепит их к релизу

## Что включают портативные версии

✅ **Electron приложение** - готовое к запуску  
✅ **Встроенный Python 3.11** - не требует системного Python  
✅ **Все Python зависимости** - предустановлены  
✅ **Backend код** - готов к работе  
✅ **Frontend** - собран и готов  

## Размер артефактов

- Windows: ~200-300 MB
- macOS: ~200-300 MB

## Хранение артефактов

Артефакты хранятся 30 дней. Для долгосрочного хранения используйте релизы GitHub.

## Требования

- Node.js 18+
- Python 3.11+
- Все зависимости устанавливаются автоматически в workflow

## Отладка

Если сборка не удалась:

1. Проверьте логи в разделе **Actions**
2. Убедитесь, что все зависимости указаны в `package.json` и `requirements.txt`
3. Проверьте, что скрипты сборки (`build-portable.sh`, `build-portable.ps1`) исполняемые

## Примечания

- Сборка на macOS требует `macos-latest` runner (доступен в GitHub Actions)
- Сборка на Windows требует `windows-latest` runner
- Для создания релизов нужен токен `GITHUB_TOKEN` (предоставляется автоматически)

